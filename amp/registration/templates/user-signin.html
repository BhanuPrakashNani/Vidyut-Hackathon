{% extends "vms/base.html" %}

{% load i18n %}

{% load static %}

{% block content %}

    <form class="signup form-signup" id="signup_form" method="post" action="{% url 'registration:signup_volunteer' %}" enctype="multipart/form-data">
        {% csrf_token %}
        <h2 class="header">{% trans "Sign Up" %}</h2>
        <hr>
        {% if user_form.username.errors %}
            <div id="div_id_username" class="form-group has-error">
                <label class="control-label requiredField" for="id_username">
                    {% trans "Username" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_username" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Username{% endblocktrans %}" name="usr-username" maxlength="30" autofocus="autofocus" value="{{ user_form.username.value }}">
                    <p class="help-block">
                        <strong>
                            {% for error in user_form.username.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
        {% else %}
            <div id="div_id_username" class="form-group">
                <label class="control-label requiredField" for="id_username">
                    {% trans "Username" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_username" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Username{% endblocktrans %}" name="usr-username" maxlength="30" autofocus="autofocus" value="{% if user_form.username.value %}{{ user_form.username.value }}{% endif %}">
                </div>
            </div>
        {% endif %}
        {% if user_form.password.errors %}
            <div id="div_id_password" class="form-group has-error">
                <label class="control-label requiredField" for="id_password">
                    {% trans "Password" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_password" class="textinput textInput form-control" type="password" placeholder="{% blocktrans %}Password{% endblocktrans %}" name="usr-password">
                    <p class="help-block">
                        <strong>
                            {% for error in user_form.password.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
        {% else %}
            <div id="div_id_password" class="form-group">
                <label class="control-label requiredField" for="id_password">
                    {% trans "Password" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_password" class="textinput textInput form-control" type="password" placeholder="{% blocktrans %}Password{% endblocktrans %}" name="usr-password">
                </div>
            </div>
        {% endif %}
        {% if user_form.confirm_password.errors %}
            <div id="div_id_confirm_password" class="form-group has-error">
                <label class="control-label requiredField" for="id_confirm_password">
                    {% trans "Confirm Password" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_confirm_password" class="textinput textInput form-control" type="password" placeholder="{% blocktrans %}Confirm Password{% endblocktrans %}" name="usr-confirm_password">
                    <p class="help-block">
                        <strong>
                            {% for error in user_form.confirm_password.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
         {% elif match_error %}
            <div id="div_id_confirm_password" class="form-group has-error">
                <label class="control-label requiredField" for="id_confirm_password">
                    {% trans "Confirm Password" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_confirm_password" class="textinput textInput form-control" type="password" placeholder="{% blocktrans %}Confirm Password{% endblocktrans %}" name="usr-confirm_password">
                    <p class="help-block">
                        <strong>
                         Passwords don't match.
                       </strong>
                     </p>
                 </div>
            </div>
        {% else %}
            <div id="div_id_confirm_password" class="form-group">
                <label class="control-label requiredField" for="id_confirm_password">
                    {% trans "Confirm Password" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_confirm_password" class="textinput textInput form-control" type="password" placeholder="{% blocktrans %}Confirm Password{% endblocktrans %}" name="usr-confirm_password">
                </div>
            </div>
        {% endif %}
        {% if volunteer_form.description.errors %}
            <div id="div_id_description" class="form-group has-error">
                <label class="control-label" for="id_description">
                    {% trans "About" %}
                </label>
                <div class="controls">
                    <textarea id="id_description" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Include a short biography of yourself{% endblocktrans %}" name="vol-description" rows="5">{{ volunteer_form.description.value }}</textarea>
                    <p class="help-block">
                        <strong>
                            {% for error in volunteer_form.description.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
        {% else %}
            <div id="div_id_description" class="form-group">
                <label class="control-label" for="id_description">
                    {% trans "About" %}
                </label>
                <div class="controls">
                    <textarea id="id_description" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Include a short biography of yourself{% endblocktrans %}" name="vol-description" rows="5">{% if volunteer_form.description.value %}{{ volunteer_form.description.value }}{% endif %}</textarea>
                </div>
            </div>
        {% endif %}
        {% if volunteer_form.first_name.errors %}
            <div id="div_id_first_name" class="form-group has-error">
                <label class="control-label requiredField" for="id_first_name">
                    {% trans "First Name" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_first_name" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}First Name{% endblocktrans %}" name="vol-first_name" value="{{ volunteer_form.first_name.value }}">
                    <p class="help-block">
                        <strong>
                            {% for error in volunteer_form.first_name.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
        {% else %}
            <div id="div_id_first_name" class="form-group">
                <label class="control-label requiredField" for="id_first_name">
                    {% trans "First Name" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_first_name" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}First Name{% endblocktrans %}" name="vol-first_name" value="{% if volunteer_form.first_name.value %}{{ volunteer_form.first_name.value }}{% endif %}">
                </div>
            </div>
        {% endif %}
        {% if volunteer_form.last_name.errors %}
            <div id="div_id_last_name" class="form-group has-error">
                <label class="control-label requiredField" for="id_last_name">
                    {% trans "Last Name" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_last_name" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Last Name{% endblocktrans %}" name="vol-last_name" value="{{ volunteer_form.last_name.value }}">
                    <p class="help-block">
                        <strong>
                            {% for error in volunteer_form.last_name.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
        {% else %}
            <div id="div_id_last_name" class="form-group">
                <label class="control-label requiredField" for="id_last_name">
                    {% trans "Last Name" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_last_name" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Last Name{% endblocktrans %}" name="vol-last_name" value="{% if volunteer_form.last_name.value %}{{ volunteer_form.last_name.value }}{% endif %}">
                </div>
            </div>
        {% endif %}
        {% if volunteer_form.email.errors %}
            <div id="div_id_email" class="form-group has-error">
                <label class="control-label requiredField" for="id_email">
                    {% trans "Email" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_email" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Email{% endblocktrans %}" name="vol-email" value="{{ volunteer_form.email.value }}">
                    <p class="help-block">
                        <strong>
                            {% for error in volunteer_form.email.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
        {% else %}
            <div id="div_id_email" class="form-group">
                <label class="control-label requiredField" for="id_email">
                    {% trans "Email" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_email" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Email{% endblocktrans %}" name="vol-email" value="{% if volunteer_form.email.value %}{{ volunteer_form.email.value }}{% endif %}">
                </div>
            </div>
        {% endif %}
        {% if volunteer_form.address.errors %}
            <div id="div_id_address" class="form-group has-error">
                <label class="control-label requiredField" for="id_address">
                    {% trans "Address" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_address" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Address{% endblocktrans %}" name="vol-address" value="{{ volunteer_form.address.value }}">
                    <p class="help-block">
                        <strong>
                            {% for error in volunteer_form.address.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
        {% else %}
            <div id="div_id_address" class="form-group">
                <label class="control-label requiredField" for="id_address">
                    {% trans "Address" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_address" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Address{% endblocktrans %}" name="vol-address" value="{% if volunteer_form.address.value %}{{ volunteer_form.address.value }}{% endif %}">
                </div>
            </div>
        {% endif %}
            <div id="div_id_country" class="form-group">
                <label class="control-label">
                {% trans "Country" %}
                </label>
                <select id="select_country" class="form-control" name="country">
                    <option value="0">-- {% trans "Select country" %} --</option>
                    {% for country in country_list %}
                        <option value="{{ country.name }}">{{ country.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div id="div_id_state" class="form-group">
                <label class="control-label">
                {% trans "State/Province" %}
                </label>
                <select id="select_state" class="form-control" name="state">
                </select>
            </div>

            <div id="div_id_city" class="form-group">
                <label class="control-label">
                    {% trans "City" %}
                </label>
                <select id="select_city" class="form-control" name="city">
                </select>
            </div>
        {% if volunteer_form.phone_number.errors %}
            <div id="div_id_phone_number" class="form-group has-error">
                <label class="control-label requiredField" for="id_phone_number">
                    {% trans "Phone Number" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_phone_number" class="textinput textInput form-control" type="text" placeholder="Phone Number" name="vol-phone_number" value="{{ volunteer_form.phone_number.value }}">
                    <p class="help-block">
                        <strong>
                            {% for error in volunteer_form.phone_number.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
        {% elif phone_error %}
            <div id="div_id_phone_number" class="form-group has-error">
                <label class="control-label requiredField" for="id_phone_number">
                    Phone Number<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_phone_number" class="textinput textInput form-control" type="text" placeholder="Phone Number" name="vol-phone_number" value="{{ volunteer_form.phone_number.value }}">
                    <p class="help-block">
                        <strong>
                            This phone number isn't valid for the selected country
                        </strong>
                    </p>
                </div>
            </div>
        {% else %}
            <div id="div_id_phone_number" class="form-group">
                <label class="control-label requiredField" for="id_phone_number">
                    {% trans "Phone Number" %}<span class="asteriskField">*</span>
                </label>
                <div class="controls">
                    <input id="id_phone_number" class="textinput textInput form-control" type="text" placeholder="Phone Number" name="vol-phone_number" value="{% if volunteer_form.phone_number.value %}{{ volunteer_form.phone_number.value }}{% endif %}">
                </div>
            </div>
        {% endif %}
        <div id="div_id_organization" class="form-group">
            <label class="control-label">
                {% trans "Organization" %}
            </label>
            <select id="select" class="form-control" name="organization_name" onchange="hideOrganization()">
                <option value="0">-- {% trans "Select Organization" %} --</option>
                {% for organization in organization_list %}
                    <option value="{{ organization.id }}">{{ organization.name }}</option>
                {% endfor %}
            </select>
        </div>
        {% if volunteer_form.unlisted_organization.errors %}
            <div id="div_id_unlisted_organization" class="form-group has-error">
                <label class="control-label" for="id_unlisted_organization">
                    {% trans "If your organization is not listed above, please provide it here:" %}
                </label>
                <div class="controls">
                    <input id="id_unlisted_organization" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Organization{% endblocktrans %}" name="vol-unlisted_organization" value="{{ volunteer_form.unlisted_organization.value }}">
                    <p class="help-block">
                        <strong>
                            {% for error in volunteer_form.unlisted_organization.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
        {% else %}
            <div id="div_id_unlisted_organization" class="form-group">
                <label class="control-label" for="id_unlisted_organization">
                    {% trans "If your organization is not listed above, please provide it here:" %}
                </label>
                <div class="controls">
                    <input id="id_unlisted_organization" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Organization{% endblocktrans %}" name="vol-unlisted_organization" value="{% if volunteer_form.unlisted_organization.value %}{{ volunteer_form.unlisted_organization.value }}{% endif %}">
                </div>
            </div>
        {% endif %}
        <script type="text/javascript" src="{% static 'vms/js/hide-organization.js' %}"></script>
        {% if volunteer_form.websites.errors %}
            <div id="div_id_websites" class="form-group has-error">
                <label class="control-label" for="id_websites">
                    {% trans "Profiles" %}
                </label>
                <div class="controls">
                    <textarea id="id_websites" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Include links to any online profiles here{% endblocktrans %}" name="vol-websites" rows="5">{{ volunteer_form.websites.value }}</textarea>
                    <p class="help-block">
                        <strong>
                            {% for error in volunteer_form.websites.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
        {% else %}
            <div id="div_id_websites" class="form-group">
                <label class="control-label" for="id_websites">
                    {% trans "Profiles" %}
                </label>
                <div class="controls">
                    <textarea id="id_websites" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Include links to any online profiles here{% endblocktrans %}" name="vol-websites" rows="5">{% if volunteer_form.websites.value %}{{ volunteer_form.websites.value }}{% endif %}</textarea>
                </div>
            </div>
        {% endif %}
        <div id="div_id_resume_file" class="form-group" onchange="hide_resume_textbox()">
            <label class="control-label">{% trans "Upload a Resume" %}</label>
            {{ volunteer_form.resume_file }}
        </div>
        {% if volunteer_form.resume.errors %}
            <div id="div_id_resume" class="form-group">
                <label class="control-label" for="id_resume">
                    {% trans "Resume" %}
                </label>
                <div class="controls">
                    <textarea id="id_resume" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Alternatively, include your resume here{% endblocktrans %}" name="vol-resume" rows="5">{% if volunteer_form.resume.value %}{{ volunteer_form.resume.value }}{% endif %}</textarea>
                    <p class="help-block">
                        <strong>
                            {% for error in volunteer_form.resume.errors %}
                                {{ error }}
                            {% endfor %}
                        </strong>
                    </p>
                </div>
            </div>
        {% else %}
            <div id="div_id_resume" class="form-group has-error">
                <label class="control-label" for="id_resume">
                    {% trans "Resume" %}
                </label>
                <div class="controls">
                    <textarea id="id_resume" class="textinput textInput form-control" type="text" placeholder="{% blocktrans %}Alternatively, include your resume here{% endblocktrans %}" name="vol-resume" rows="5"></textarea>
                </div>
            </div>
	{% endif %}
        <button type="submit" class="btn btn-lg btn-primary btn-block">{% trans "Create Account" %}</button>
        <p>
            {% trans "Already have an account? Then please "%}<a href="{% url 'authentication:login_process' %}" class="link">{% trans "sign in" %}</a>.
        </p>
    </form>
{% endblock %}
